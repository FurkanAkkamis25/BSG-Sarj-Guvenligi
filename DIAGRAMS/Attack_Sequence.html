<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AegisCharge - Oscillating Load Attack Sequence</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true, 
            theme: 'base',
            themeVariables: {
                primaryColor: '#ffcccc', // SaldÄ±rÄ± rengi
                edgeLabelBackground: '#ffffff',
                tertiaryColor: '#fff0f0'
            }
        });
    </script>
</head>
<body>
    <h2 style="font-family: Arial, sans-serif; text-align: center;">Oscillating Load Attack - Technical Sequence Analysis</h2>
    <div class="mermaid">
    sequenceDiagram
        autonumber
        actor Attacker as ðŸ”´ SaldÄ±rgan (Attacker)
        participant EVSE as âš¡ Åžarj Ä°stasyonu (Edge)
        participant Relay as ðŸ”Œ RÃ¶le (DonanÄ±m)
        participant CSMS as â˜ï¸ CSMS (Cloud)

        Note over Attacker, EVSE: Ã–n KoÅŸul: Fiziksel BaÄŸlantÄ± ve Yetkilendirme Tamam

        rect rgb(240, 240, 240)
            Note right of Attacker: SALDIRI BAÅžLANGICI (DÃ¶ngÃ¼)
            loop High Frequency Switching (Dos Attack)
                Attacker->>EVSE: StartTransaction (Req)
                activate EVSE
                EVSE->>Relay: RÃ¶leyi Kapat (1)
                activate Relay
                Relay-->>EVSE: Durum: KapalÄ± (AkÄ±m Var)
                Note right of Relay: âš¡ Ark (Spark) OluÅŸumu
                
                EVSE--)CSMS: [Async] Start Notification
                
                Attacker->>EVSE: StopTransaction (Req)
                EVSE->>Relay: RÃ¶leyi AÃ§ (0)
                deactivate Relay
                Relay-->>EVSE: Durum: AÃ§Ä±k (AkÄ±m Yok)
                Note right of Relay: ðŸŒ¡ï¸ IsÄ± Birikimi (+Delta T)
                deactivate EVSE
            end
        end

        rect rgb(255, 200, 200)
            Note over Relay: DONANIM HATASI / HÄ°ZMET REDDÄ°
            Relay--x EVSE: Mekanik ArÄ±za / YapÄ±ÅŸma (Welding)
            EVSE->>CSMS: Critical Alert: Hardware Failure
            EVSE->>Attacker: Service Unavailable (503)
        end
    </div>
</body>
</html>